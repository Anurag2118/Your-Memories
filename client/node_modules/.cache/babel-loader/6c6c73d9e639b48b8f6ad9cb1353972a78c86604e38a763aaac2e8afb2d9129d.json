{"ast":null,"code":"import _objectSpread from\"D:/Your Memories/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState}from\"react\";import axios from\"axios\";import{useGetUserID}from\"../hooks/useGetUserID\";import{useNavigate}from\"react-router-dom\";import{useCookies}from\"react-cookie\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const CreateMemory=()=>{const userID=useGetUserID();const[cookies,_]=useCookies([\"access_token\"]);const[memory,setMemory]=useState({name:\"\",descriptions:[],imageURL:\"\",timeSpent:\"\",userOwner:userID});const navigate=useNavigate();const handleChange=event=>{const{name,value}=event.target;setMemory(_objectSpread(_objectSpread({},memory),{},{[name]:value}));};const handleDescriptionChange=(event,idx)=>{const{value}=event.target;const descriptions=[...memory.descriptions];descriptions[idx]=value;setMemory(_objectSpread(_objectSpread({},memory),{},{descriptions}));};const addDescription=()=>{setMemory(_objectSpread(_objectSpread({},memory),{},{descriptions:[...memory.descriptions,\"\"]}));};const onSubmit=async event=>{event.preventDefault();try{await axios.post(\"http://localhost:3001/memories\",_objectSpread({},memory),{headers:{authorization:cookies.access_token}});alert(\"Memory Created!\");navigate(\"/\");}catch(err){console.error(err);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"create-memory\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create Memory\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:memory.name,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"descriptions\",children:\"Descriptions\"}),memory.descriptions.map((description,idx)=>/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"descriptions\",value:description,onChange:event=>{handleDescriptionChange(event,idx);}},idx)),/*#__PURE__*/_jsx(\"button\",{onClick:addDescription,type:\"button\",children:\"Add Description\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"imageURL\",children:\"Image URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"imageURL\",name:\"imageURL\",value:memory.imageURL,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"timeSpent\",children:\"Time Spent\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"timeSpent\",name:\"timeSpent\",value:memory.timeSpent,onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create Memory\"})]})]});};","map":{"version":3,"names":["useState","axios","useGetUserID","useNavigate","useCookies","jsx","_jsx","jsxs","_jsxs","CreateMemory","userID","cookies","_","memory","setMemory","name","descriptions","imageURL","timeSpent","userOwner","navigate","handleChange","event","value","target","_objectSpread","handleDescriptionChange","idx","addDescription","onSubmit","preventDefault","post","headers","authorization","access_token","alert","err","console","error","className","children","htmlFor","type","id","onChange","map","description","onClick"],"sources":["D:/Your Memories/client/src/pages/create-memory.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useGetUserID } from \"../hooks/useGetUserID\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useCookies } from \"react-cookie\";\r\n\r\nexport const CreateMemory = () => {\r\n\r\n    const userID = useGetUserID();\r\n    const [cookies, _] = useCookies([\"access_token\"]);\r\n\r\n    const [memory, setMemory] = useState({\r\n        name: \"\",\r\n        descriptions: [],\r\n        imageURL: \"\",\r\n        timeSpent: \"\",\r\n        userOwner: userID,\r\n    });\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const handleChange = (event) => {\r\n        const { name, value } = event.target;\r\n        setMemory({ ...memory, [name]: value });\r\n    };\r\n\r\n    const handleDescriptionChange = (event, idx) => {\r\n        const { value } = event.target;\r\n        const descriptions = [...memory.descriptions];\r\n        descriptions[idx] = value;\r\n        setMemory({ ...memory, descriptions });\r\n    };\r\n\r\n    const addDescription = () => {\r\n        setMemory({ ...memory, descriptions: [...memory.descriptions, \"\"] });\r\n    };\r\n\r\n    const onSubmit = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            await axios.post(\"http://localhost:3001/memories\", { ...memory },\r\n                {\r\n                    headers: { authorization: cookies.access_token },\r\n                }\r\n            );\r\n            alert(\"Memory Created!\");\r\n            navigate(\"/\");\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"create-memory\">\r\n            <h2>Create Memory</h2>\r\n            <form onSubmit={onSubmit}>\r\n                <label htmlFor=\"name\">Name</label>\r\n                <input\r\n                    type=\"text\"\r\n                    id=\"name\"\r\n                    name=\"name\"\r\n                    value={memory.name}\r\n                    onChange={handleChange}\r\n                />\r\n\r\n                <label htmlFor=\"descriptions\">Descriptions</label>\r\n                {memory.descriptions.map((description, idx) => (\r\n                    <input\r\n                        key={idx}\r\n                        type=\"text\"\r\n                        name=\"descriptions\"\r\n                        value={description}\r\n                        onChange={(event) => {\r\n                            handleDescriptionChange(event, idx);\r\n                        }}\r\n                    />\r\n                ))}\r\n                <button onClick={addDescription} type=\"button\">Add Description</button>\r\n\r\n                <label htmlFor=\"imageURL\">Image URL</label>\r\n                <input\r\n                    type=\"text\"\r\n                    id=\"imageURL\"\r\n                    name=\"imageURL\"\r\n                    value={memory.imageURL}\r\n                    onChange={handleChange}\r\n                />\r\n\r\n                <label htmlFor=\"timeSpent\">Time Spent</label>\r\n                <input\r\n                    type=\"text\"\r\n                    id=\"timeSpent\"\r\n                    name=\"timeSpent\"\r\n                    value={memory.timeSpent}\r\n                    onChange={handleChange}\r\n                />\r\n\r\n                <button type=\"submit\">Create Memory</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}